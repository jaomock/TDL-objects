(()=>{let e=document.querySelector(".taskInput"),t=(document.querySelectorAll("#lizt"),document.querySelector("#delete")),l=document.querySelector(".main"),c=document.querySelector("#closeBtn"),n=document.querySelector(".modal"),s=document.querySelector("#taskName"),i=document.querySelector(".list"),a=document.querySelector("#submit"),d=(document.querySelector(".topBar"),document.querySelectorAll(".taskBox"),""),o="";const r={};function m(){let e=document.createElement("div");e.classList.add("fillBox");let t=document.createElement("p");t.textContent="Please select or create a list!",t.classList.add("fillText");let c=document.createElement("img");c.setAttribute("src","https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e96d93fa-09e4-4718-b4ec-4f533a1f1800/d6pxlji-6843ef54-c474-4a0f-a529-f09efb6de58f.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2U5NmQ5M2ZhLTA5ZTQtNDcxOC1iNGVjLTRmNTMzYTFmMTgwMFwvZDZweGxqaS02ODQzZWY1NC1jNDc0LTRhMGYtYTUyOS1mMDllZmI2ZGU1OGYuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.vZywgmOkxcGAqrBNF8Iw9PrEBshiZTr4fDPj0orE9vY"),c.classList.add("fillImg"),l.appendChild(e),e.appendChild(t),e.appendChild(c)}function u(){n.classList.remove("active")}m(),document.getElementById("list").addEventListener("keypress",(function(a){if("Enter"===a.key){let a=document.getElementById("list").value,m=document.querySelectorAll(".listBG"),p=document.querySelectorAll(".listBGBlue"),h=document.createElement("li");h.textContent=a;for(let e=0;e<m.length;e++)if(a===m[e].textContent)return void alert("Task name already exist");for(let e=0;e<p.length;e++)if(a===p[e].textContent)return void alert("Task name already exist");h.value=a,h.classList.add("listBG"),e.appendChild(h),i.value="",r[`${a}`]=[];let f=document.querySelectorAll("li");for(let e=0;e<f.length;e++)f[e].onclick=function(){let t=0;for(;t<f.length;)f[t++].className="listBG";f[e].className="listBGBlue",d=f[e].textContent};h.addEventListener("click",(function(){document.querySelectorAll(".taskBox").forEach((e=>e.remove()));let e=document.querySelectorAll(".plus");s.textContent=h.textContent,o=h.textContent,function(){for(let e=0;e<r[d].length;e++){let t=document.createElement("div");t.classList.add("taskBox");let c=document.createElement("p"),n=document.createElement("p"),s=document.createElement("p"),i=document.createElement("div"),a=document.createElement("img"),o=document.createElement("img");c.textContent=r[d][e].taskName,n.textContent=r[d][e].date,s.textContent=r[d][e].priority,a.setAttribute("src","https://www.freeiconspng.com/thumbs/edit-icon-png/edit-new-icon-22.png"),o.setAttribute("src","https://static-00.iconduck.com/assets.00/delete-icon-1864x2048-bp2i0gor.png"),c.classList.add("taskTitle"),n.classList.add("taskDate"),s.classList.add("priority"),i.classList.add("circle"),a.classList.add("edit"),o.classList.add("dlt"),l.appendChild(t),t.appendChild(c),t.appendChild(n),t.appendChild(s),t.appendChild(i),t.appendChild(a),t.appendChild(o),i.addEventListener("click",(function(){i.classList.contains("circle")?(i.classList.remove("circle"),i.classList.add("gcircle"),t.style.textDecoration="line-through",t.style.color="#a19f9f"):i.classList.contains("gcircle")&&(i.classList.remove("gcircle"),i.classList.add("circle"),t.style.textDecoration="",t.style.color="black")})),o.addEventListener("click",(function(){t.remove();let e=o.parentNode.childNodes[0].textContent;for(let t=0;t<r[d].length;t++)e===r[d][t].taskName&&r[d].splice(t,1)}))}}(),e.length>=1||(pluss=document.createElement("IMG"),pluss.setAttribute("src","https://www.freeiconspng.com/thumbs/plus-icon/plus-icon-black-2.png"),pluss.classList.add("plus"),l.appendChild(pluss),pluss.addEventListener("click",(function(){n.classList.add("active")})),c.addEventListener("click",(function(){u()})),document.querySelector(".fillBox").remove())})),t.addEventListener("click",(function(){for(let e=0;e<f.length;e++)f[e].classList.contains("listBGBlue")&&f[e].remove(),1==f.length&&pluss.remove();delete r[d],s.textContent="";let e=document.querySelectorAll(".taskBox");for(let t=0;t<e.length;t++){if(e.length<1)return;e[t].remove()}}))}})),t.addEventListener("click",(function(){m()})),a.addEventListener("click",(function(){let e=document.querySelector("#nt"),t=document.querySelector("#nd"),c=document.querySelector("#np"),n=e.value,s=t.value,i=c.value,a=Object.keys(r).length,o=Object.keys(r);for(let m=0;m<a;m++)if(o[m]===d){let a=r[d];task1={taskName:n,date:s,priority:i},a.push(task1);for(let n=a.length-1;n<a.length;n++){let s=document.createElement("div");s.classList.add("taskBox");let i=document.createElement("p"),o=document.createElement("p"),m=document.createElement("p"),u=document.createElement("div"),p=document.createElement("img"),h=document.createElement("img");i.textContent=a[n].taskName,o.textContent=a[n].date,m.textContent=a[n].priority,p.setAttribute("src","https://www.freeiconspng.com/thumbs/edit-icon-png/edit-new-icon-22.png"),h.setAttribute("src","https://static-00.iconduck.com/assets.00/delete-icon-1864x2048-bp2i0gor.png"),i.classList.add("taskTitle"),o.classList.add("taskDate"),m.classList.add("priority"),u.classList.add("circle"),p.classList.add("edit"),h.classList.add("dlt"),l.appendChild(s),s.appendChild(i),s.appendChild(o),s.appendChild(m),s.appendChild(u),s.appendChild(p),s.appendChild(h),e.value="",t.value="dd/mm/yyyy",c.value="Low",h.addEventListener("click",(function(){s.remove();let e=h.parentNode.childNodes[0].textContent;for(let t=0;t<r[d].length;t++)e===r[d][t].taskName&&(r[d].splice(t,1),console.log(r[d]))})),u.addEventListener("click",(function(){u.classList.contains("circle")?(u.classList.remove("circle"),u.classList.add("gcircle"),s.style.textDecoration="line-through",s.style.color="#a19f9f"):u.classList.contains("gcircle")&&(u.classList.remove("gcircle"),u.classList.add("circle"),s.style.textDecoration="",s.style.color="black")}))}}u()}))})();